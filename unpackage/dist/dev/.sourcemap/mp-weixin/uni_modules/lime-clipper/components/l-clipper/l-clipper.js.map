{"version":3,"sources":[null,"webpack:///F:/wechat-avatar/uni_modules/lime-clipper/components/l-clipper/l-clipper.vue?b381","webpack:///F:/wechat-avatar/uni_modules/lime-clipper/components/l-clipper/l-clipper.vue?7097","webpack:///F:/wechat-avatar/uni_modules/lime-clipper/components/l-clipper/l-clipper.vue?ae6b","uni-app:///uni_modules/lime-clipper/components/l-clipper/l-clipper.vue","webpack:///F:/wechat-avatar/uni_modules/lime-clipper/components/l-clipper/l-clipper.vue?c259","webpack:///F:/wechat-avatar/uni_modules/lime-clipper/components/l-clipper/l-clipper.vue?402d"],"names":[],"mappings":"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","file":"uni_modules/lime-clipper/components/l-clipper/l-clipper.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./l-clipper.vue?vue&type=template&id=573cb2d6&scoped=true&\"\nvar renderjs\nimport script from \"./l-clipper.vue?vue&type=script&lang=js&\"\nexport * from \"./l-clipper.vue?vue&type=script&lang=js&\"\nimport style0 from \"./l-clipper.vue?vue&type=style&index=0&id=573cb2d6&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"573cb2d6\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"uni_modules/lime-clipper/components/l-clipper/l-clipper.vue\"\nexport default component.exports","export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./l-clipper.vue?vue&type=template&id=573cb2d6&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./l-clipper.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./l-clipper.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"lime-clipper\" :class=\"{open: value}\" disable-scroll :style=\"'z-index: ' + zIndex + ';' + customStyle\">\r\n\t\t<view class=\"lime-clipper-mask\" @touchstart.stop.prevent=\"clipTouchStart\"\r\n\t\t\t@touchmove.stop.prevent=\"clipTouchMove\" @touchend.stop.prevent=\"clipTouchEnd\">\r\n\t\t\t<view class=\"lime-clipper__content\" :style=\"clipStyle\">\r\n\t\t\t\t<view class=\"lime-clipper__edge\" v-for=\"(item, index) in [0, 0, 0, 0]\" :key=\"index\"></view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<image class=\"lime-clipper-image\" @error=\"imageLoad\" @load=\"imageLoad\" @touchstart=\"imageTouchStart\"\r\n\t\t\t@touchmove=\"imageTouchMove\" @touchend=\"imageTouchEnd\" :src=\"image\"\r\n\t\t\t:mode=\"imageWidth == 'auto' ? 'widthFix' : 'scaleToFill'\" v-if=\"image\" :style=\"imageStyle\" />\r\n\t\t<canvas :canvas-id=\"canvasId\" id=\"lime-clipper\" disable-scroll\r\n\t\t\t:style=\"'width: ' + canvasWidth * scaleRatio + 'px; height:' + canvasHeight * scaleRatio + 'px;'\"\r\n\t\t\tclass=\"lime-clipper-canvas\" style=\"visibility: hidden;\"></canvas>\r\n\t\t<view class=\"lime-clipper-tools\">\r\n\t\t\t<view class=\"lime-clipper-tools__btns\">\r\n\t\t\t\t<view v-if=\"isShowCancelBtn\" @tap=\"cancel\">\r\n\t\t\t\t\t<slot name=\"cancel\" v-if=\"$slots.cancel\" />\r\n\t\t\t\t\t<view v-else class=\"cancel\">Cancel</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view v-if=\"isShowPhotoBtn\" @tap=\"uploadImage\">\r\n\t\t\t\t\t<slot name=\"photo\" v-if=\"$slots.photo\" />\r\n\t\t\t\t\t<image v-else :src=\"photoImg\" />\r\n\t\t\t\t</view>\r\n\t\t\t\t<view v-if=\"isShowRotateBtn\" @tap=\"rotate\">\r\n\t\t\t\t\t<slot name=\"rotate\" v-if=\"$slots.rotate\" />\r\n\t\t\t\t\t<image v-else :src=\"rotateImg\" data-type=\"inverse\" />\r\n\t\t\t\t</view>\r\n\t\t\t\t<view v-if=\"isShowConfirmBtn\" @tap=\"confirm\">\r\n\t\t\t\t\t<slot name=\"confirm\" v-if=\"$slots.confirm\" />\r\n\t\t\t\t\t<view v-else class=\"confirm\">Confirm</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<slot></slot>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport rotateImg from './images/rotate.svg'\r\n\timport photoImg from './images/photo.svg'\r\n\timport {\r\n\t\tpathToBase64,\r\n\t\tdetermineDirection,\r\n\t\tcalcImageOffset,\r\n\t\tcalcImageScale,\r\n\t\tcalcImageSize,\r\n\t\tcalcPythagoreanTheorem,\r\n\t\tclipTouchMoveOfCalculate,\r\n\t\timageTouchMoveOfCalcOffset\r\n\t} from './utils';\r\n\tconst cache = {}\r\n\texport default {\r\n\t\tname: 'lime-clipper',\r\n\t\tprops: {\r\n\t\t\tvalue: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: true\r\n\t\t\t},\r\n\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\ttype: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: '2d'\r\n\t\t\t},\r\n\t\t\t// #endif\r\n\t\t\tcustomStyle: {\r\n\t\t\t\ttype: String,\r\n\t\t\t},\r\n\t\t\tcanvasId: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: 'lime-clipper'\r\n\t\t\t},\r\n\t\t\tzIndex: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 99\r\n\t\t\t},\r\n\t\t\timageUrl: {\r\n\t\t\t\ttype: String\r\n\t\t\t},\r\n\t\t\tfileType: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: 'png'\r\n\t\t\t},\r\n\t\t\tquality: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 1\r\n\t\t\t},\r\n\t\t\twidth: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 400\r\n\t\t\t},\r\n\t\t\theight: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 400\r\n\t\t\t},\r\n\t\t\tminWidth: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 200\r\n\t\t\t},\r\n\t\t\tmaxWidth: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 600\r\n\t\t\t},\r\n\t\t\tdestWidth: Number,\r\n\t\t\tdestHeight: Number,\r\n\t\t\tminHeight: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 200\r\n\t\t\t},\r\n\t\t\tmaxHeight: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 600\r\n\t\t\t},\r\n\t\t\tisLockWidth: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\tisLockHeight: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\tisLockRatio: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: true\r\n\t\t\t},\r\n\t\t\tscaleRatio: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\t// default: uni.getSystemInfoSync().devicePixelRatio\r\n\t\t\t\tdefault: 5\r\n\t\t\t},\r\n\t\t\tminRatio: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 0.5\r\n\t\t\t},\r\n\t\t\tmaxRatio: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 2\r\n\t\t\t},\r\n\t\t\tisDisableScale: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\tisDisableRotate: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\tisLimitMove: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\tisShowPhotoBtn: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: true\r\n\t\t\t},\r\n\t\t\tisShowRotateBtn: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: true\r\n\t\t\t},\r\n\t\t\tisShowConfirmBtn: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: true\r\n\t\t\t},\r\n\t\t\tisShowCancelBtn: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: true\r\n\t\t\t},\r\n\t\t\trotateAngle: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 90\r\n\t\t\t},\r\n\t\t\tsource: {\r\n\t\t\t\ttype: Object,\r\n\t\t\t\tdefault: () => ({\r\n\t\t\t\t\talbum: '从相册中选择',\r\n\t\t\t\t\tcamera: '拍照',\r\n\t\t\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\t\t\tmessage: '从微信中选择'\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\trotateImg,\r\n\t\t\t\tphotoImg,\r\n\t\t\t\tcanvasWidth: 0,\r\n\t\t\t\tcanvasHeight: 0,\r\n\t\t\t\tclipX: 0,\r\n\t\t\t\tclipY: 0,\r\n\t\t\t\tclipWidth: 0,\r\n\t\t\t\tclipHeight: 0,\r\n\t\t\t\tanimation: false,\r\n\t\t\t\timageWidth: 0,\r\n\t\t\t\timageHeight: 0,\r\n\t\t\t\timageTop: 0,\r\n\t\t\t\timageLeft: 0,\r\n\t\t\t\tscale: 1,\r\n\t\t\t\tangle: 0,\r\n\t\t\t\timage: '',\r\n\t\t\t\tsysinfo: {},\r\n\t\t\t\tthrottleTimer: null,\r\n\t\t\t\tthrottleFlag: true,\r\n\t\t\t\ttimeClipCenter: null,\r\n\t\t\t\tflagClipTouch: false,\r\n\t\t\t\tflagEndTouch: false,\r\n\t\t\t\tclipStart: {},\r\n\t\t\t\tanimationTimer: null,\r\n\t\t\t\ttouchRelative: [{\r\n\t\t\t\t\tx: 0,\r\n\t\t\t\t\ty: 0\r\n\t\t\t\t}],\r\n\t\t\t\thypotenuseLength: 0,\r\n\t\t\t\tctx: null\r\n\t\t\t};\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tclipStyle() {\r\n\t\t\t\tconst {\r\n\t\t\t\t\tclipWidth,\r\n\t\t\t\t\tclipHeight,\r\n\t\t\t\t\tclipY,\r\n\t\t\t\t\tclipX,\r\n\t\t\t\t\tanimation\r\n\t\t\t\t} = this\r\n\t\t\t\treturn `\r\n\t\t\twidth: ${clipWidth}px;\r\n\t\t\theight:${clipHeight}px;\r\n\t\t\ttransition-property: ${animation ? '' : 'background'};\r\n\t\t\tleft: ${clipX}px;\r\n\t\t\ttop: ${clipY}px\r\n\t\t\t`\r\n\t\t\t},\r\n\t\t\timageStyle() {\r\n\t\t\t\tconst {\r\n\t\t\t\t\timageWidth,\r\n\t\t\t\t\timageHeight,\r\n\t\t\t\t\timageLeft,\r\n\t\t\t\t\timageTop,\r\n\t\t\t\t\tanimation,\r\n\t\t\t\t\tscale,\r\n\t\t\t\t\tangle\r\n\t\t\t\t} = this\r\n\t\t\t\treturn `\r\n\t\t\t\twidth: ${imageWidth ? imageWidth + 'px' : 'auto'};\r\n\t\t\t\theight: ${imageHeight ? imageHeight + 'px' : 'auto'};\r\n\t\t\t\ttransform: translate3d(${imageLeft - imageWidth / 2}px, ${imageTop - imageHeight / 2}px, 0) scale(${scale}) rotate(${angle}deg);\r\n\t\t\t\ttransition-duration: ${animation ? 0.35 : 0}s\r\n\t\t\t`\r\n\t\t\t},\r\n\t\t\tclipSize() {\r\n\t\t\t\tconst {\r\n\t\t\t\t\tclipWidth,\r\n\t\t\t\t\tclipHeight\r\n\t\t\t\t} = this;\r\n\t\t\t\treturn {\r\n\t\t\t\t\tclipWidth,\r\n\t\t\t\t\tclipHeight\r\n\t\t\t\t};\r\n\t\t\t},\r\n\t\t\tclipPoint() {\r\n\t\t\t\tconst {\r\n\t\t\t\t\tclipY,\r\n\t\t\t\t\tclipX\r\n\t\t\t\t} = this;\r\n\t\t\t\treturn {\r\n\t\t\t\t\tclipY,\r\n\t\t\t\t\tclipX\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tvalue(val) {\r\n\t\t\t\tif (!val) {\r\n\t\t\t\t\tthis.animation = 0\r\n\t\t\t\t\tthis.angle = 0\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (this.imageUrl) {\r\n\t\t\t\t\t\tconst {\r\n\t\t\t\t\t\t\timageWidth,\r\n\t\t\t\t\t\t\timageHeight,\r\n\t\t\t\t\t\t\timageLeft,\r\n\t\t\t\t\t\t\timageTop,\r\n\t\t\t\t\t\t\tscale,\r\n\t\t\t\t\t\t\tclipX,\r\n\t\t\t\t\t\t\tclipY,\r\n\t\t\t\t\t\t\tclipWidth,\r\n\t\t\t\t\t\t\tclipHeight,\r\n\t\t\t\t\t\t\tpath\r\n\t\t\t\t\t\t} = cache?. [this.imageUrl] || {}\r\n\t\t\t\t\t\tif (path != this.image) {\r\n\t\t\t\t\t\t\tthis.image = this.imageUrl;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.setDiffData({\r\n\t\t\t\t\t\t\t\timageWidth,\r\n\t\t\t\t\t\t\t\timageHeight,\r\n\t\t\t\t\t\t\t\timageLeft,\r\n\t\t\t\t\t\t\t\timageTop,\r\n\t\t\t\t\t\t\t\tscale,\r\n\t\t\t\t\t\t\t\tclipX,\r\n\t\t\t\t\t\t\t\tclipY,\r\n\t\t\t\t\t\t\t\tclipWidth,\r\n\t\t\t\t\t\t\t\tclipHeight\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\timageUrl(url) {\r\n\t\t\t\tthis.image = url\r\n\t\t\t},\r\n\t\t\timage: {\r\n\t\t\t\thandler: async function(url) {\r\n\t\t\t\t\tthis.getImageInfo(url)\r\n\t\t\t\t},\r\n\t\t\t\t// immediate: true,\r\n\t\t\t},\r\n\t\t\tclipSize({\r\n\t\t\t\twidthVal,\r\n\t\t\t\theightVal\r\n\t\t\t}) {\r\n\t\t\t\tlet {\r\n\t\t\t\t\tminWidth,\r\n\t\t\t\t\tminHeight\r\n\t\t\t\t} = this;\r\n\t\t\t\tminWidth = minWidth / 2;\r\n\t\t\t\tminHeight = minHeight / 2;\r\n\t\t\t\tif (widthVal < minWidth) {\r\n\t\t\t\t\tthis.setDiffData({\r\n\t\t\t\t\t\tclipWidth: minWidth\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\tif (heightVal < minHeight) {\r\n\t\t\t\t\tthis.setDiffData({\r\n\t\t\t\t\t\tclipHeight: minHeight\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\tthis.calcClipSize();\r\n\t\t\t},\r\n\t\t\tangle(val) {\r\n\t\t\t\tthis.animation = true;\r\n\t\t\t\tthis.moveStop();\r\n\t\t\t\tconst {\r\n\t\t\t\t\tisLimitMove\r\n\t\t\t\t} = this;\r\n\t\t\t\tif (isLimitMove && val % 90) {\r\n\t\t\t\t\tthis.setDiffData({\r\n\t\t\t\t\t\tangle: Math.round(val / 90) * 90\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\tthis.imgMarginDetectionScale();\r\n\t\t\t},\r\n\t\t\tanimation(val) {\r\n\t\t\t\tclearTimeout(this.animationTimer);\r\n\t\t\t\tif (val) {\r\n\t\t\t\t\tlet animationTimer = setTimeout(() => {\r\n\t\t\t\t\t\tthis.setDiffData({\r\n\t\t\t\t\t\t\tanimation: false\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}, 260);\r\n\t\t\t\t\tthis.setDiffData({\r\n\t\t\t\t\t\tanimationTimer\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.animationTimer = animationTimer;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tisLimitMove(val) {\r\n\t\t\t\tif (val) {\r\n\t\t\t\t\tif (this.angle % 90) {\r\n\t\t\t\t\t\tthis.setDiffData({\r\n\t\t\t\t\t\t\tangle: Math.round(this.angle / 90) * 90\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.imgMarginDetectionScale();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tclipPoint() {\r\n\t\t\t\tthis.cutDetectionPosition();\r\n\t\t\t},\r\n\t\t\twidth(width, oWidth) {\r\n\t\t\t\tif (width !== oWidth) {\r\n\t\t\t\t\tthis.setDiffData({\r\n\t\t\t\t\t\tclipWidth: width / 2\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\theight(height, oHeight) {\r\n\t\t\t\tif (height !== oHeight) {\r\n\t\t\t\t\tthis.setDiffData({\r\n\t\t\t\t\t\tclipHeight: height / 2\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tconst sysinfo = uni.getSystemInfoSync();\r\n\t\t\tthis.sysinfo = sysinfo;\r\n\t\t\tthis.setClipInfo();\r\n\t\t\tthis.image = this.imageUrl || this.image\r\n\t\t\tthis.setClipCenter();\r\n\t\t\tthis.calcClipSize();\r\n\t\t\tthis.cutDetectionPosition();\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tsetDiffData(data) {\r\n\t\t\t\tObject.keys(data).forEach(key => {\r\n\t\t\t\t\tif (this[key] !== data[key]) {\r\n\t\t\t\t\t\tthis[key] = data[key];\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tgetImageInfo(url) {\r\n\t\t\t\tif (!url) return;\r\n\t\t\t\tif (this.value) {\r\n\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\ttitle: 'Please wait...',\r\n\t\t\t\t\t\tmask: true\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tuni.getImageInfo({\r\n\t\t\t\t\tsrc: url,\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\tif (['right', 'left'].includes(res.orientation)) {\r\n\t\t\t\t\t\t\tthis.imgComputeSize(res.height, res.width);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.imgComputeSize(res.width, res.height);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.image = res.path;\r\n\t\t\t\t\t\tif (this.isLimitMove) {\r\n\t\t\t\t\t\t\tthis.imgMarginDetectionScale();\r\n\t\t\t\t\t\t\tthis.$emit('ready', res);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tconst {\r\n\t\t\t\t\t\t\timageWidth,\r\n\t\t\t\t\t\t\timageHeight,\r\n\t\t\t\t\t\t\timageLeft,\r\n\t\t\t\t\t\t\timageTop,\r\n\t\t\t\t\t\t\tscale,\r\n\t\t\t\t\t\t\tclipX,\r\n\t\t\t\t\t\t\tclipY,\r\n\t\t\t\t\t\t\tclipWidth,\r\n\t\t\t\t\t\t\tclipHeight\r\n\t\t\t\t\t\t} = this\r\n\t\t\t\t\t\tcache[url] = Object.assign(res, {\r\n\t\t\t\t\t\t\timageWidth,\r\n\t\t\t\t\t\t\timageHeight,\r\n\t\t\t\t\t\t\timageLeft,\r\n\t\t\t\t\t\t\timageTop,\r\n\t\t\t\t\t\t\tscale,\r\n\t\t\t\t\t\t\tclipX,\r\n\t\t\t\t\t\t\tclipY,\r\n\t\t\t\t\t\t\tclipWidth,\r\n\t\t\t\t\t\t\tclipHeight\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: (err) => {\r\n\t\t\t\t\t\tthis.imgComputeSize();\r\n\t\t\t\t\t\tif (this.isLimitMove) {\r\n\t\t\t\t\t\t\tthis.imgMarginDetectionScale();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t},\r\n\t\t\tsetClipInfo() {\r\n\t\t\t\tconst {\r\n\t\t\t\t\twidth,\r\n\t\t\t\t\theight,\r\n\t\t\t\t\tsysinfo,\r\n\t\t\t\t\tcanvasId\r\n\t\t\t\t} = this;\r\n\t\t\t\tconst clipWidth = width / 2;\r\n\t\t\t\tconst clipHeight = height / 2;\r\n\t\t\t\tconst clipY = (sysinfo.windowHeight - clipHeight) / 2;\r\n\t\t\t\tconst clipX = (sysinfo.windowWidth - clipWidth) / 2;\r\n\t\t\t\tconst imageLeft = sysinfo.windowWidth / 2;\r\n\t\t\t\tconst imageTop = sysinfo.windowHeight / 2;\r\n\t\t\t\tthis.ctx = uni.createCanvasContext(canvasId, this);\r\n\t\t\t\tthis.clipWidth = clipWidth;\r\n\t\t\t\tthis.clipHeight = clipHeight;\r\n\t\t\t\tthis.clipX = clipX;\r\n\t\t\t\tthis.clipY = clipY;\r\n\t\t\t\tthis.canvasHeight = clipHeight;\r\n\t\t\t\tthis.canvasWidth = clipWidth;\r\n\t\t\t\tthis.imageLeft = imageLeft;\r\n\t\t\t\tthis.imageTop = imageTop;\r\n\t\t\t},\r\n\t\t\tsetClipCenter() {\r\n\t\t\t\tconst {\r\n\t\t\t\t\tsysInfo,\r\n\t\t\t\t\tclipHeight,\r\n\t\t\t\t\tclipWidth,\r\n\t\t\t\t\timageTop,\r\n\t\t\t\t\timageLeft\r\n\t\t\t\t} = this;\r\n\t\t\t\tlet sys = sysInfo || uni.getSystemInfoSync();\r\n\t\t\t\tlet clipY = (sys.windowHeight - clipHeight) * 0.5;\r\n\t\t\t\tlet clipX = (sys.windowWidth - clipWidth) * 0.5;\r\n\t\t\t\tthis.imageTop = imageTop - this.clipY + clipY;\r\n\t\t\t\tthis.imageLeft = imageLeft - this.clipX + clipX;\r\n\t\t\t\tthis.clipY = clipY;\r\n\t\t\t\tthis.clipX = clipX;\r\n\t\t\t},\r\n\t\t\tcalcClipSize() {\r\n\t\t\t\tconst {\r\n\t\t\t\t\tclipHeight,\r\n\t\t\t\t\tclipWidth,\r\n\t\t\t\t\tsysinfo,\r\n\t\t\t\t\tclipX,\r\n\t\t\t\t\tclipY\r\n\t\t\t\t} = this;\r\n\t\t\t\tif (clipWidth > sysinfo.windowWidth) {\r\n\t\t\t\t\tthis.setDiffData({\r\n\t\t\t\t\t\tclipWidth: sysinfo.windowWidth\r\n\t\t\t\t\t})\r\n\t\t\t\t} else if (clipWidth + clipX > sysinfo.windowWidth) {\r\n\t\t\t\t\tthis.setDiffData({\r\n\t\t\t\t\t\tclipX: sysinfo.windowWidth - clipX\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\tif (clipHeight > sysinfo.windowHeight) {\r\n\t\t\t\t\tthis.setDiffData({\r\n\t\t\t\t\t\tclipHeight: sysinfo.windowHeight\r\n\t\t\t\t\t})\r\n\t\t\t\t} else if (clipHeight + clipY > sysinfo.windowHeight) {\r\n\t\t\t\t\tthis.clipY = sysinfo.windowHeight - clipY;\r\n\t\t\t\t\tthis.setDiffData({\r\n\t\t\t\t\t\tclipY: sysinfo.windowHeight - clipY\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tcutDetectionPosition() {\r\n\t\t\t\tconst {\r\n\t\t\t\t\tclipX,\r\n\t\t\t\t\tclipY,\r\n\t\t\t\t\tsysinfo,\r\n\t\t\t\t\tclipHeight,\r\n\t\t\t\t\tclipWidth\r\n\t\t\t\t} = this;\r\n\t\t\t\tlet cutDetectionPositionTop = () => {\r\n\t\t\t\t\t\tif (clipY < 0) {\r\n\t\t\t\t\t\t\tthis.setDiffData({\r\n\t\t\t\t\t\t\t\tclipY: 0\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (clipY > sysinfo.windowHeight - clipHeight) {\r\n\t\t\t\t\t\t\tthis.setDiffData({\r\n\t\t\t\t\t\t\t\tclipY: sysinfo.windowHeight - clipHeight\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tcutDetectionPositionLeft = () => {\r\n\t\t\t\t\t\tif (clipX < 0) {\r\n\t\t\t\t\t\t\tthis.setDiffData({\r\n\t\t\t\t\t\t\t\tclipX: 0\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (clipX > sysinfo.windowWidth - clipWidth) {\r\n\t\t\t\t\t\t\tthis.setDiffData({\r\n\t\t\t\t\t\t\t\tclipX: sysinfo.windowWidth - clipWidth\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\t\t\t\tif (clipY === null && clipX === null) {\r\n\t\t\t\t\tlet newClipY = (sysinfo.windowHeight - clipHeight) * 0.5;\r\n\t\t\t\t\tlet newClipX = (sysinfo.windowWidth - clipWidth) * 0.5;\r\n\t\t\t\t\tthis.setDiffData({\r\n\t\t\t\t\t\tclipX: newClipX,\r\n\t\t\t\t\t\tclipY: newClipY\r\n\t\t\t\t\t})\r\n\t\t\t\t} else if (clipY !== null && clipX !== null) {\r\n\t\t\t\t\tcutDetectionPositionTop();\r\n\t\t\t\t\tcutDetectionPositionLeft();\r\n\t\t\t\t} else if (clipY !== null && clipX === null) {\r\n\t\t\t\t\tcutDetectionPositionTop();\r\n\t\t\t\t\tthis.setDiffData({\r\n\t\t\t\t\t\tclipX: (sysinfo.windowWidth - clipWidth) / 2\r\n\t\t\t\t\t})\r\n\t\t\t\t} else if (clipY === null && clipX !== null) {\r\n\t\t\t\t\tcutDetectionPositionLeft();\r\n\t\t\t\t\tthis.setDiffData({\r\n\t\t\t\t\t\tclipY: (sysinfo.windowHeight - clipHeight) / 2\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\timgComputeSize(width, height) {\r\n\t\t\t\tconst {\r\n\t\t\t\t\timageWidth,\r\n\t\t\t\t\timageHeight\r\n\t\t\t\t} = calcImageSize(width, height, this);\r\n\t\t\t\tthis.imageWidth = imageWidth;\r\n\t\t\t\tthis.imageHeight = imageHeight;\r\n\t\t\t},\r\n\t\t\timgMarginDetectionScale(scale) {\r\n\t\t\t\tif (!this.isLimitMove) return;\r\n\t\t\t\tconst currentScale = calcImageScale(this, scale);\r\n\t\t\t\tthis.imgMarginDetectionPosition(currentScale);\r\n\t\t\t},\r\n\t\t\timgMarginDetectionPosition(scale) {\r\n\t\t\t\tif (!this.isLimitMove) return;\r\n\t\t\t\tconst {\r\n\t\t\t\t\tscale: currentScale,\r\n\t\t\t\t\tleft,\r\n\t\t\t\t\ttop\r\n\t\t\t\t} = calcImageOffset(this, scale);\r\n\t\t\t\tthis.setDiffData({\r\n\t\t\t\t\timageLeft: left,\r\n\t\t\t\t\timageTop: top,\r\n\t\t\t\t\tscale: currentScale\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tthrottle() {\r\n\t\t\t\tthis.setDiffData({\r\n\t\t\t\t\tthrottleFlag: true\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tmoveDuring() {\r\n\t\t\t\tclearTimeout(this.timeClipCenter);\r\n\t\t\t},\r\n\t\t\tmoveStop() {\r\n\t\t\t\tclearTimeout(this.timeClipCenter);\r\n\t\t\t\tconst timeClipCenter = setTimeout(() => {\r\n\t\t\t\t\tif (!this.animation) {\r\n\t\t\t\t\t\tthis.setDiffData({\r\n\t\t\t\t\t\t\tanimation: true\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.setClipCenter();\r\n\t\t\t\t}, 800);\r\n\t\t\t\tthis.setDiffData({\r\n\t\t\t\t\ttimeClipCenter\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tclipTouchStart(event) {\r\n\t\t\t\t// #ifdef H5\r\n\t\t\t\tevent.preventDefault()\r\n\t\t\t\t// #endif\r\n\t\t\t\tif (!this.image) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: 'Please select image',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tconst currentX = event.touches[0].clientX;\r\n\t\t\t\tconst currentY = event.touches[0].clientY;\r\n\t\t\t\tconst {\r\n\t\t\t\t\tclipX,\r\n\t\t\t\t\tclipY,\r\n\t\t\t\t\tclipWidth,\r\n\t\t\t\t\tclipHeight\r\n\t\t\t\t} = this;\r\n\t\t\t\tconst corner = determineDirection(clipX, clipY, clipWidth, clipHeight, currentX, currentY);\r\n\t\t\t\tthis.moveDuring();\r\n\t\t\t\tif (!corner) {\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tthis.clipStart = {\r\n\t\t\t\t\twidth: clipWidth,\r\n\t\t\t\t\theight: clipHeight,\r\n\t\t\t\t\tx: currentX,\r\n\t\t\t\t\ty: currentY,\r\n\t\t\t\t\tclipY,\r\n\t\t\t\t\tclipX,\r\n\t\t\t\t\tcorner\r\n\t\t\t\t};\r\n\t\t\t\tthis.flagClipTouch = true;\r\n\t\t\t\tthis.flagEndTouch = true;\r\n\t\t\t},\r\n\t\t\tclipTouchMove(event) {\r\n\t\t\t\t// #ifdef H5\r\n\t\t\t\tevent.stopPropagation()\r\n\t\t\t\tevent.preventDefault()\r\n\t\t\t\t// #endif\r\n\t\t\t\tif (!this.image) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: 'Please select image',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t// 只针对单指点击做处理\r\n\t\t\t\tif (event.touches.length !== 1) {\r\n\t\t\t\t\treturn;\r\n\r\n\t\t\t\t}\r\n\t\t\t\tconst {\r\n\t\t\t\t\tflagClipTouch,\r\n\t\t\t\t\tthrottleFlag\r\n\t\t\t\t} = this;\r\n\t\t\t\tif (flagClipTouch && throttleFlag) {\r\n\t\t\t\t\tconst {\r\n\t\t\t\t\t\tisLockRatio,\r\n\t\t\t\t\t\tisLockHeight,\r\n\t\t\t\t\t\tisLockWidth\r\n\t\t\t\t\t} = this;\r\n\t\t\t\t\tif (isLockRatio && (isLockWidth || isLockHeight)) return;\r\n\t\t\t\t\tthis.setDiffData({\r\n\t\t\t\t\t\tthrottleFlag: false\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.throttle();\r\n\t\t\t\t\tconst clipData = clipTouchMoveOfCalculate(this, event);\r\n\t\t\t\t\tif (clipData) {\r\n\t\t\t\t\t\tconst {\r\n\t\t\t\t\t\t\twidth,\r\n\t\t\t\t\t\t\theight,\r\n\t\t\t\t\t\t\tclipX,\r\n\t\t\t\t\t\t\tclipY\r\n\t\t\t\t\t\t} = clipData;\r\n\t\t\t\t\t\tif (!isLockWidth && !isLockHeight) {\r\n\t\t\t\t\t\t\tthis.setDiffData({\r\n\t\t\t\t\t\t\t\tclipWidth: width,\r\n\t\t\t\t\t\t\t\tclipHeight: height,\r\n\t\t\t\t\t\t\t\tclipX,\r\n\t\t\t\t\t\t\t\tclipY\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t} else if (!isLockWidth) {\r\n\t\t\t\t\t\t\tthis.setDiffData({\r\n\t\t\t\t\t\t\t\tclipWidth: width,\r\n\t\t\t\t\t\t\t\tclipX\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t} else if (!isLockHeight) {\r\n\t\t\t\t\t\t\tthis.setDiffData({\r\n\t\t\t\t\t\t\t\tclipHeight: height,\r\n\t\t\t\t\t\t\t\tclipY\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.imgMarginDetectionScale();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tclipTouchEnd() {\r\n\t\t\t\tthis.moveStop();\r\n\t\t\t\tthis.flagClipTouch = false;\r\n\t\t\t},\r\n\t\t\timageTouchStart(e) {\r\n\t\t\t\t// #ifdef H5\r\n\t\t\t\tevent.preventDefault()\r\n\t\t\t\t// #endif\r\n\t\t\t\tthis.flagEndTouch = false;\r\n\t\t\t\tconst {\r\n\t\t\t\t\timageLeft,\r\n\t\t\t\t\timageTop\r\n\t\t\t\t} = this;\r\n\t\t\t\tconst clientXForLeft = e.touches[0].clientX;\r\n\t\t\t\tconst clientYForLeft = e.touches[0].clientY;\r\n\r\n\t\t\t\tlet touchRelative = [];\r\n\t\t\t\tif (e.touches.length === 1) {\r\n\t\t\t\t\ttouchRelative[0] = {\r\n\t\t\t\t\t\tx: clientXForLeft - imageLeft,\r\n\t\t\t\t\t\ty: clientYForLeft - imageTop\r\n\t\t\t\t\t};\r\n\t\t\t\t\tthis.touchRelative = touchRelative;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst clientXForRight = e.touches[1].clientX;\r\n\t\t\t\t\tconst clientYForRight = e.touches[1].clientY;\r\n\t\t\t\t\tlet width = Math.abs(clientXForLeft - clientXForRight);\r\n\t\t\t\t\tlet height = Math.abs(clientYForLeft - clientYForRight);\r\n\t\t\t\t\tconst hypotenuseLength = calcPythagoreanTheorem(width, height);\r\n\r\n\t\t\t\t\ttouchRelative = [{\r\n\t\t\t\t\t\t\tx: clientXForLeft - imageLeft,\r\n\t\t\t\t\t\t\ty: clientYForLeft - imageTop\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tx: clientXForRight - imageLeft,\r\n\t\t\t\t\t\t\ty: clientYForRight - imageTop\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t];\r\n\t\t\t\t\tthis.touchRelative = touchRelative;\r\n\t\t\t\t\tthis.hypotenuseLength = hypotenuseLength;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\timageTouchMove(e) {\r\n\t\t\t\t// #ifdef H5\r\n\t\t\t\tevent.preventDefault()\r\n\t\t\t\t// #endif\r\n\t\t\t\tconst {\r\n\t\t\t\t\tflagEndTouch,\r\n\t\t\t\t\tthrottleFlag\r\n\t\t\t\t} = this;\r\n\t\t\t\tif (flagEndTouch || !throttleFlag) return;\r\n\t\t\t\tconst clientXForLeft = e.touches[0].clientX;\r\n\t\t\t\tconst clientYForLeft = e.touches[0].clientY;\r\n\t\t\t\tthis.setDiffData({\r\n\t\t\t\t\tthrottleFlag: false\r\n\t\t\t\t})\r\n\t\t\t\tthis.throttle();\r\n\t\t\t\tthis.moveDuring();\r\n\t\t\t\tif (e.touches.length === 1) {\r\n\t\t\t\t\tconst {\r\n\t\t\t\t\t\tleft: imageLeft,\r\n\t\t\t\t\t\ttop: imageTop\r\n\t\t\t\t\t} = imageTouchMoveOfCalcOffset(this, clientXForLeft, clientYForLeft);\r\n\t\t\t\t\tthis.setDiffData({\r\n\t\t\t\t\t\timageLeft,\r\n\t\t\t\t\t\timageTop\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.imgMarginDetectionPosition();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst clientXForRight = e.touches[1].clientX;\r\n\t\t\t\t\tconst clientYForRight = e.touches[1].clientY;\r\n\t\t\t\t\tlet width = Math.abs(clientXForLeft - clientXForRight),\r\n\t\t\t\t\t\theight = Math.abs(clientYForLeft - clientYForRight),\r\n\t\t\t\t\t\thypotenuse = calcPythagoreanTheorem(width, height),\r\n\t\t\t\t\t\tscale = this.scale * (hypotenuse / this.hypotenuseLength);\r\n\t\t\t\t\tif (this.isDisableScale) {\r\n\r\n\t\t\t\t\t\tscale = 1;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tscale = scale <= this.minRatio ? this.minRatio : scale;\r\n\t\t\t\t\t\tscale = scale >= this.maxRatio ? this.maxRatio : scale;\r\n\t\t\t\t\t\tthis.$emit('change', {\r\n\t\t\t\t\t\t\twidth: this.imageWidth * scale,\r\n\t\t\t\t\t\t\theight: this.imageHeight * scale\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthis.imgMarginDetectionScale(scale);\r\n\t\t\t\t\tthis.hypotenuseLength = Math.sqrt(Math.pow(width, 2) + Math.pow(height, 2));\r\n\t\t\t\t\tthis.scale = scale;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\timageTouchEnd() {\r\n\t\t\t\tthis.setDiffData({\r\n\t\t\t\t\tflagEndTouch: true\r\n\t\t\t\t})\r\n\t\t\t\tthis.moveStop();\r\n\t\t\t},\r\n\t\t\tuploadImage() {\r\n\t\t\t\tconst itemList = Object.entries(this.source)\r\n\t\t\t\tconst sizeType = ['original', 'compressed']\r\n\t\t\t\tconst success = ({\r\n\t\t\t\t\ttempFilePaths: a,\r\n\t\t\t\t\ttempFiles: b\r\n\t\t\t\t}) => {\r\n\t\t\t\t\tthis.image = a ? a[0] : b[0].path\r\n\t\t\t\t};\r\n\t\t\t\tconst _uploadImage = (type) => {\r\n\t\t\t\t\tif (type !== 'message') {\r\n\t\t\t\t\t\tuni.chooseImage({\r\n\t\t\t\t\t\t\tcount: 1,\r\n\t\t\t\t\t\t\tsizeType,\r\n\t\t\t\t\t\t\tsourceType: [type],\r\n\t\t\t\t\t\t\tsuccess\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\t\t\tif (type == 'message') {\r\n\t\t\t\t\t\twx.chooseMessageFile({\r\n\t\t\t\t\t\t\tcount: 1,\r\n\t\t\t\t\t\t\ttype: 'image',\r\n\t\t\t\t\t\t\tsuccess\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t}\r\n\t\t\t\tif (itemList.length > 1) {\r\n\t\t\t\t\tuni.showActionSheet({\r\n\t\t\t\t\t\titemList: itemList.map(v => v[1]),\r\n\t\t\t\t\t\tsuccess: ({\r\n\t\t\t\t\t\t\ttapIndex: i\r\n\t\t\t\t\t\t}) => {\r\n\t\t\t\t\t\t\t_uploadImage(itemList[i][0])\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\t_uploadImage(itemList[0][0])\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\timageReset() {\r\n\t\t\t\tconst sys = this.sysinfo || uni.getSystemInfoSync();\r\n\t\t\t\tthis.scale = 1;\r\n\t\t\t\tthis.angle = 0;\r\n\t\t\t\tthis.imageTop = sys.windowHeight / 2;\r\n\t\t\t\tthis.imageLeft = sys.windowWidth / 2;\r\n\t\t\t},\r\n\t\t\timageLoad(e) {\r\n\t\t\t\tthis.imageReset();\r\n\t\t\t\tuni.hideLoading();\r\n\t\t\t\tthis.$emit('ready', e.detail);\r\n\t\t\t},\r\n\t\t\trotate(event) {\r\n\t\t\t\tif (this.isDisableRotate) return;\r\n\t\t\t\tif (!this.image) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: 'Please select image',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tconst {\r\n\t\t\t\t\trotateAngle\r\n\t\t\t\t} = this;\r\n\t\t\t\tconst originAngle = this.angle\r\n\t\t\t\tconst type = event.currentTarget.dataset.type;\r\n\t\t\t\tif (type === 'along') {\r\n\t\t\t\t\tthis.angle = originAngle + rotateAngle\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.angle = originAngle - rotateAngle\r\n\t\t\t\t}\r\n\t\t\t\tthis.$emit('rotate', this.angle);\r\n\t\t\t},\r\n\t\t\tconfirm() {\r\n\t\t\t\tif (!this.image) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: 'Please select image',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: 'Loading...'\r\n\t\t\t\t});\r\n\t\t\t\tconst {\r\n\t\t\t\t\tcanvasHeight,\r\n\t\t\t\t\tcanvasWidth,\r\n\t\t\t\t\tclipHeight,\r\n\t\t\t\t\tclipWidth,\r\n\t\t\t\t\tctx,\r\n\t\t\t\t\tscale,\r\n\t\t\t\t\timageLeft,\r\n\t\t\t\t\timageTop,\r\n\t\t\t\t\tclipX,\r\n\t\t\t\t\tclipY,\r\n\t\t\t\t\tangle,\r\n\t\t\t\t\tscaleRatio: dpr,\r\n\t\t\t\t\timage,\r\n\t\t\t\t\tquality,\r\n\t\t\t\t\tfileType,\r\n\t\t\t\t\ttype: imageType,\r\n\t\t\t\t\tcanvasId\r\n\t\t\t\t} = this;\r\n\t\t\t\tconst draw = () => {\r\n\t\t\t\t\tconst imageWidth = this.imageWidth * scale * dpr;\r\n\t\t\t\t\tconst imageHeight = this.imageHeight * scale * dpr;\r\n\t\t\t\t\tconst xpos = imageLeft - clipX;\r\n\t\t\t\t\tconst ypos = imageTop - clipY;\r\n\t\t\t\t\tctx.translate(xpos * dpr, ypos * dpr);\r\n\t\t\t\t\tctx.rotate((angle * Math.PI) / 180);\r\n\t\t\t\t\tctx.drawImage(image, -imageWidth / 2, -imageHeight / 2, imageWidth, imageHeight);\r\n\t\t\t\t\tctx.draw(false, () => {\r\n\t\t\t\t\t\tconst width = clipWidth * dpr\r\n\t\t\t\t\t\tconst height = clipHeight * dpr\r\n\t\t\t\t\t\tlet params = {\r\n\t\t\t\t\t\t\tx: 0,\r\n\t\t\t\t\t\t\ty: 0,\r\n\t\t\t\t\t\t\twidth,\r\n\t\t\t\t\t\t\theight,\r\n\t\t\t\t\t\t\tdestWidth: this.destWidth || width,\r\n\t\t\t\t\t\t\tdestHeight: this.destHeight || height,\r\n\t\t\t\t\t\t\tcanvasId: canvasId,\r\n\t\t\t\t\t\t\tfileType,\r\n\t\t\t\t\t\t\tquality,\r\n\t\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\t\t// 钉钉小程序\r\n\t\t\t\t\t\t\t\tdata.url = res.tempFilePath || res.filePath;\r\n\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\tthis.$emit('success', data);\r\n\t\t\t\t\t\t\t\tthis.$emit('input', false)\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tfail: (error) => {\r\n\t\t\t\t\t\t\t\tconsole.error('error', error)\r\n\t\t\t\t\t\t\t\tthis.$emit('fail', error);\r\n\t\t\t\t\t\t\t\tthis.$emit('input', false)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\tlet data = {\r\n\t\t\t\t\t\t\turl: '',\r\n\t\t\t\t\t\t\twidth,\r\n\t\t\t\t\t\t\theight\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tuni.canvasToTempFilePath(params, this)\r\n\t\t\t\t\t});\r\n\t\t\t\t};\r\n\r\n\t\t\t\tif (canvasWidth !== clipWidth || canvasHeight !== clipHeight) {\r\n\t\t\t\t\tthis.canvasWidth = clipWidth;\r\n\t\t\t\t\tthis.canvasHeight = clipHeight;\r\n\t\t\t\t\tctx.draw();\r\n\t\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tdraw();\r\n\t\t\t\t\t\t}, 100);\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdraw();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tcancel() {\r\n\t\t\t\tthis.$emit('cancel', false)\r\n\t\t\t\tthis.$emit('input', false)\r\n\t\t\t},\r\n\t\t}\r\n\t};\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n\t@import './index'\r\n</style>\n","import mod from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--11-oneOf-1-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--11-oneOf-1-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--11-oneOf-1-2!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--11-oneOf-1-3!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\stylus-loader\\\\index.js??ref--11-oneOf-1-4!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--11-oneOf-1-5!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./l-clipper.vue?vue&type=style&index=0&id=573cb2d6&lang=stylus&scoped=true&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--11-oneOf-1-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--11-oneOf-1-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--11-oneOf-1-2!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--11-oneOf-1-3!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\stylus-loader\\\\index.js??ref--11-oneOf-1-4!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--11-oneOf-1-5!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./l-clipper.vue?vue&type=style&index=0&id=573cb2d6&lang=stylus&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1655804130536\n      var cssReload = require(\"E:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}