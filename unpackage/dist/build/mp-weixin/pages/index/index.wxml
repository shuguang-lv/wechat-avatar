<view data-event-opts="{{[['touchmove',[['',['$event']]]],['tap',[['touchAvatarBg',[false]]]]]}}" class="content data-v-5f9bb598" catchtouchmove="__e" bindtap="__e"><view class="hideCanvas data-v-5f9bb598"><canvas class="default_PosterCanvasId data-v-5f9bb598" style="{{'width:'+(imageScale*cansBorder+'px')+';'+('height:'+(imageScale*cansBorder+'px')+';')}}" canvas-id="default_PosterCanvasId"></canvas></view><view class="image-card data-v-5f9bb598"><view class="avatar-div  data-v-5f9bb598" id="avatar-container" data-event-opts="{{[['tap',[['',['$event']]]],['touchstart',[['touchStart',['$event']]]],['touchend',[['touchEnd',['$event']]]],['touchmove',[['touchMove',['$event']]]]]}}" catchtap="__e" bindtouchstart="__e" bindtouchend="__e" bindtouchmove="__e"><image class="img data-v-5f9bb598" id="avatar-img" src="{{avatarImage||defaultImage}}" data-event-opts="{{[['tap',[['touchAvatarBg',[false]]]]]}}" bindtap="__e"></image><block wx:if="{{currentImage&&currentImage.image_url}}"><image class="{{['avatar-default','data-v-5f9bb598',(showBorder&&currentImage.drag_state)?'avatar-border':'']}}" style="{{'top:'+(maskCenterY-maskSize/2-2+'px')+';'+('left:'+(maskCenterX-maskSize/2-2+'px')+';')+('transform:'+('rotate('+rotate+'deg)'+'scale('+scale+')')+';')}}" id="mask-img" src="{{currentImage.image_url}}" data-event-opts="{{[['tap',[['touchAvatarBg',[true]]]]]}}" bindtap="__e"></image></block><block wx:if="{{showBorder&&currentImage&&currentImage.drag_state}}"><view class="drag-div data-v-5f9bb598" style="{{'top:'+(handleCenterY-10+'px')+';'+('left:'+(handleCenterX-10+'px')+';')+('width:'+(handleWidth+'rpx')+';')+('height:'+(handleWidth+'rpx')+';')}}"><image class="drag-img data-v-5f9bb598" id="drag-img" src="/static/images/drag.svg"></image></view></block></view></view><view data-event-opts="{{[['tap',[['',['$event']]]]]}}" class="top-content data-v-5f9bb598" catchtap="__e"><scroll-view class="scroll-view data-v-5f9bb598" scroll-x="{{true}}" show-scrollbar="{{false}}"><view class="image-div data-v-5f9bb598"><block wx:for="{{imageList}}" wx:for-item="info" wx:for-index="index" wx:key="_id"><view data-event-opts="{{[['tap',[['imageClick',['$0',index],[[['imageList','_id',info._id]]]]]]]}}" class="image-margin data-v-5f9bb598" bindtap="__e"><image class="{{['data-v-5f9bb598',(currentIndex===index)?'image-border':'']}}" src="{{info.image_url}}"></image></view></block></view></scroll-view></view><view class="btn-card data-v-5f9bb598"><block wx:if="{{userInfo}}"><view class="btn-right data-v-5f9bb598"><button data-event-opts="{{[['tap',[['getUserProfile',['createImages']]]]]}}" class="primary-btn action-btn data-v-5f9bb598" catchtap="__e">Fetch
				Avatar</button><button data-event-opts="{{[['tap',[['chooseImages',['selectedImage']]]]]}}" class="primary-btn data-v-5f9bb598" catchtap="__e">Select Image</button></view></block><block wx:else><view class="btn-right data-v-5f9bb598"><button class="primary-btn action-btn data-v-5f9bb598" open-type="getUserInfo" data-event-opts="{{[['tap',[['getUserProfile',['createImages']]]]]}}" catchtap="__e">Fetch Avatar</button><button class="primary-btn data-v-5f9bb598" open-type="getUserInfo" data-event-opts="{{[['tap',[['getUserProfile',['selectedImage']]]]]}}" catchtap="__e">Select
				Image</button></view></block><view class="btn-right data-v-5f9bb598"><button class="primary-btn action-btn data-v-5f9bb598" open-type="share" data-event-opts="{{[['tap',[['',['$event']]]]]}}" catchtap="__e">Share Avatar</button><view data-event-opts="{{[['tap',[['shareFc']]]]}}" class="primary-btn data-v-5f9bb598" catchtap="__e">Save Image</view></view></view><block wx:if="{{userInfo}}"><button data-event-opts="{{[['tap',[['navOriginal']]]]}}" class="history-btn data-v-5f9bb598" catchtap="__e">Avatar History<view class="icon-div data-v-5f9bb598"><text class="iconfont icon-xiangzuo data-v-5f9bb598"></text></view></button></block><block wx:else><button class="history-btn data-v-5f9bb598" open-type="getUserInfo" data-event-opts="{{[['tap',[['getUserProfile',['userLogin']]]]]}}" catchtap="__e">Avatar History<view class="icon-div data-v-5f9bb598"><text class="iconfont icon-xiangzuo data-v-5f9bb598"></text></view></button></block></view>